import{r as l,b as F,a as K}from"./vendor-BTukGEff.js";import{u as G,L as I,a as B,N as M,R as H,b as L,B as Q}from"./router-DP8CIJoB.js";import{H as Y,F as W,P as Z,B as ee,U as te,M as se,a as re,T as ne}from"./ui-D1oZIcQb.js";import{R as ae,B as oe,C as le,X as ie,Y as ce,T as de,a as me}from"./charts-Ccc9eyK-.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function m(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=m(n);fetch(n.href,i)}})();var V={exports:{}},_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var he=l,ue=Symbol.for("react.element"),xe=Symbol.for("react.fragment"),ge=Object.prototype.hasOwnProperty,pe=he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fe={key:!0,ref:!0,__self:!0,__source:!0};function X(h,o,m){var r,n={},i=null,c=null;m!==void 0&&(i=""+m),o.key!==void 0&&(i=""+o.key),o.ref!==void 0&&(c=o.ref);for(r in o)ge.call(o,r)&&!fe.hasOwnProperty(r)&&(n[r]=o[r]);if(h&&h.defaultProps)for(r in o=h.defaultProps,o)n[r]===void 0&&(n[r]=o[r]);return{$$typeof:ue,type:h,key:i,ref:c,props:n,_owner:pe.current}}_.Fragment=xe;_.jsx=X;_.jsxs=X;V.exports=_;var e=V.exports,A={},J=F;A.createRoot=J.createRoot,A.hydrateRoot=J.hydrateRoot;function z(){const h=G(),o=JSON.parse(localStorage.getItem("currentUser")),m=[{path:"/",label:"Trang ch·ªß",icon:e.jsx(Y,{size:22})},{path:"/orders",label:"ƒê∆°n h√†ng",icon:e.jsx(W,{size:22})},{path:"/new-order",label:"Order",icon:e.jsx(Z,{size:32}),isCenter:!0},{path:"/report",label:"B√°o c√°o",icon:e.jsx(ee,{size:22})}];return o?.role==="admin"&&m.push({path:"/users",label:"User",icon:e.jsx(te,{size:22})}),e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-orange-200 flex justify-around items-center py-2 shadow-lg z-50",children:m.map((r,n)=>{const c=h.pathname===r.path?"text-orange-500":"text-gray-500";return r.isCenter?e.jsxs(I,{to:r.path,className:"flex flex-col items-center justify-center -mt-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-orange-400 to-yellow-300 rounded-full p-4 shadow-lg border-2 border-white",children:r.icon}),e.jsx("span",{className:"text-xs text-orange-600 font-semibold mt-1",children:r.label})]},n):e.jsxs(I,{to:r.path,className:`flex flex-col items-center text-sm ${c}`,children:[r.icon,e.jsx("span",{className:"text-xs mt-1",children:r.label})]},n)})})}function je(){const[h,o]=l.useState(null),[m,r]=l.useState({total:0,cash:0,card:0}),[n,i]=l.useState([]);return l.useEffect(()=>{const c=JSON.parse(localStorage.getItem("currentUser"));o(c||{name:"Guest"});const u=JSON.parse(localStorage.getItem("orders"))||[],s=new Date().toISOString().split("T")[0];let x=0,g=0,f=0;const N=[];for(let v=6;v>=0;v--){const O=new Date;O.setDate(O.getDate()-v);const C=O.toISOString().split("T")[0],b=u.filter(p=>p.date===C),T=b.reduce((p,w)=>p+w.total,0);N.push({day:C.slice(5),total:T}),C===s&&(x=T,g=b.filter(p=>p.payment==="cash").reduce((p,w)=>p+w.total,0),f=b.filter(p=>p.payment==="card").reduce((p,w)=>p+w.total,0))}r({total:x,cash:g,card:f}),i(N)},[]),e.jsxs("div",{className:"min-h-screen pb-20 bg-gradient-to-br from-orange-50 to-yellow-50",children:[e.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-orange-600",children:"NS Drink POS"}),e.jsxs("span",{className:"mt-2 sm:mt-0 text-gray-700 text-sm",children:["Xin ch√†o, ",h?.name||"Guest"]})]}),e.jsx("section",{className:"p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-yellow-100 rounded-xl shadow-md p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Doanh thu h√¥m nay"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[m.total.toLocaleString()," VNƒê"]}),e.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-700",children:[e.jsxs("span",{children:["Ti·ªÅn m·∫∑t: ",m.cash.toLocaleString()," VNƒê"]}),e.jsxs("span",{children:["Chuy·ªÉn kho·∫£n: ",m.card.toLocaleString()," VNƒê"]})]})]})}),e.jsx("section",{className:"p-4 grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{key:"stock",title:"Qu·∫£n l√Ω kho",emoji:"üì¶",link:"/stock"},{key:"menu",title:"Menu",emoji:"üìã",link:"/menu"},{key:"orders",title:"ƒê∆°n h√†ng",emoji:"üßæ",link:"/orders"},{key:"report",title:"B√°o c√°o",emoji:"üìä",link:"/report"}].map(c=>e.jsxs(I,{to:c.link,className:"bg-white rounded-xl shadow-md p-4 flex flex-col items-center justify-center hover:shadow-lg transition",children:[e.jsx("div",{className:"text-4xl mb-2",children:c.emoji}),e.jsx("p",{className:"text-sm font-semibold text-gray-700 text-center",children:c.title})]},c.key))}),e.jsx("section",{className:"p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Doanh thu 7 ng√†y g·∫ßn nh·∫•t"}),e.jsx("div",{style:{width:"100%",height:250},children:e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(oe,{data:n,layout:"vertical",margin:{top:10,bottom:10,left:10,right:10},children:[e.jsx(le,{strokeDasharray:"3 3"}),e.jsx(ie,{type:"number"}),e.jsx(ce,{dataKey:"day",type:"category"}),e.jsx(de,{}),e.jsx(me,{dataKey:"total",fill:"#f97316",radius:[5,5,5,5]})]})})})]})}),e.jsx(z,{})]})}function be(){const h=B(),[o,m]=l.useState(""),[r,n]=l.useState(""),[i,c]=l.useState(!1),[u,s]=l.useState(""),x="https://nsdrink-backend.onrender.com/api",g=async f=>{if(f.preventDefault(),s(""),!o||!r){s("Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i v√† m·∫≠t kh·∫©u.");return}c(!0);try{const N=await fetch(`${x}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:o,password:r})}),v=await N.json();if(!N.ok){s(v?.message||"ƒêƒÉng nh·∫≠p th·∫•t b·∫°i"),c(!1);return}localStorage.setItem("currentUser",JSON.stringify(v)),c(!1),h("/")}catch(N){console.error(N),s("L·ªói k·∫øt n·ªëi t·ªõi server."),c(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-gray-800/80 backdrop-blur-md rounded-2xl shadow-lg p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-orange-400 mb-4 text-center",children:"NS Drink POS"}),e.jsx("p",{className:"text-sm text-gray-300 text-center mb-4",children:"ƒêƒÉng nh·∫≠p v√†o h·ªá th·ªëng qu·∫£n l√Ω"}),u&&e.jsx("div",{className:"bg-red-600/30 text-red-200 p-2 rounded mb-3 text-sm",children:u}),e.jsxs("form",{onSubmit:g,className:"space-y-3",children:[e.jsx("input",{type:"text",placeholder:"S·ªë ƒëi·ªán tho·∫°i",value:o,onChange:f=>m(f.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-700 border border-gray-600 placeholder-gray-400 focus:outline-none"}),e.jsx("input",{type:"password",placeholder:"M·∫≠t kh·∫©u",value:r,onChange:f=>n(f.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-700 border border-gray-600 placeholder-gray-400 focus:outline-none"}),e.jsx("button",{type:"submit",className:"w-full py-2 rounded-md font-semibold bg-gradient-to-r from-orange-500 to-yellow-400 text-gray-900 hover:opacity-95",disabled:i,children:i?"ƒêang ƒëƒÉng nh·∫≠p...":"ƒêƒÉng nh·∫≠p"})]})]})})}const D="https://nsdrink-backend.onrender.com";function ye(){const[h,o]=l.useState([]),[m,r]=l.useState(""),[n,i]=l.useState("");l.useEffect(()=>{fetch(`${D}/api/users`).then(s=>s.json()).then(s=>o(s)).catch(s=>console.log("Fetch users error:",s))},[]);const c=()=>{if(!n||!m)return alert("Nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");const s={phone:n,name:m,password:"123456",role:"user"};fetch(`${D}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(x=>{if(!x.ok)throw new Error("Th√™m user th·∫•t b·∫°i!");return x.json()}).then(x=>o(g=>[...g,x])).catch(x=>alert(x.message)),i(""),r("")},u=(s,x)=>{if(x==="admin")return alert("Kh√¥ng th·ªÉ x√≥a t√†i kho·∫£n Admin!");fetch(`${D}/api/users/${s}`,{method:"DELETE"}).then(g=>{if(!g.ok)throw new Error("X√≥a th·∫•t b·∫°i!");return g.json()}).then(()=>o(g=>g.filter(f=>f._id!==s))).catch(g=>alert(g.message))};return e.jsxs("div",{className:"p-4 bg-white min-h-screen",children:[e.jsx("h1",{className:"text-xl font-bold mb-4 text-orange-600",children:"Qu·∫£n l√Ω ng∆∞·ªùi d√πng"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",placeholder:"T√™n",value:m,onChange:s=>r(s.target.value),className:"border border-orange-300 rounded-lg px-3 py-2 w-1/2"}),e.jsx("input",{type:"text",placeholder:"S·ªë ƒëi·ªán tho·∫°i",value:n,onChange:s=>i(s.target.value),className:"border border-orange-300 rounded-lg px-3 py-2 w-1/2"}),e.jsx("button",{onClick:c,className:"bg-gradient-to-r from-orange-500 to-yellow-400 text-white px-4 py-2 rounded-lg font-semibold shadow",children:"Th√™m"})]}),e.jsxs("table",{className:"w-full border border-orange-200 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-orange-100 text-orange-700",children:[e.jsx("th",{className:"p-2 text-left",children:"T√™n"}),e.jsx("th",{className:"p-2 text-left",children:"SƒêT"}),e.jsx("th",{className:"p-2 text-left",children:"Vai tr√≤"}),e.jsx("th",{className:"p-2 text-center",children:"H√†nh ƒë·ªông"})]})}),e.jsx("tbody",{children:h.map(s=>e.jsxs("tr",{className:"border-t hover:bg-orange-50",children:[e.jsx("td",{className:"p-2",children:s.name}),e.jsx("td",{className:"p-2",children:s.phone}),e.jsx("td",{className:"p-2",children:s.role}),e.jsx("td",{className:"p-2 text-center",children:s.role!=="admin"&&e.jsx("button",{onClick:()=>u(s._id,s.role),className:"text-red-500 font-semibold",children:"X√≥a"})})]},s._id))})]})]})}function Ne(){const h=B(),[o,m]=l.useState(null),[r,n]=l.useState([]),[i,c]=l.useState(!1),[u,s]=l.useState(!1),[x,g]=l.useState(""),[f,N]=l.useState(""),[v,O]=l.useState(null),[C,b]=l.useState(""),T="https://nsdrink-backend.onrender.com/api";l.useEffect(()=>{const d=JSON.parse(localStorage.getItem("currentUser"));if(m(d),!d||d.role!=="admin"){h("/");return}p()},[h]);async function p(){c(!0);try{const j=await(await fetch(`${T}/menu`)).json();n(Array.isArray(j)?j:[])}catch(d){console.error(d),b("Kh√¥ng th·ªÉ t·∫£i danh s√°ch menu.")}finally{c(!1)}}const w=()=>{g(""),N(""),O(null),b("")},P=d=>{O(d._id),g(d.name),N(String(d.price)),window.scrollTo({top:0,behavior:"smooth"})},E=async d=>{if(confirm("X√°c nh·∫≠n x√≥a m√≥n n√†y?"))try{s(!0);const j=await fetch(`${T}/menu/${d}`,{method:"DELETE"});if(j.ok)await p();else{const S=await j.json();alert(S?.message||"X√≥a th·∫•t b·∫°i")}}catch(j){console.error(j),alert("L·ªói x√≥a m√≥n")}finally{s(!1)}},U=async d=>{if(d.preventDefault(),b(""),!x.trim())return b("Nh·∫≠p t√™n m√≥n.");const j=parseFloat(f);if(isNaN(j)||j<=0)return b("Nh·∫≠p gi√° ti·ªÅn h·ª£p l·ªá (>0).");s(!0);try{if(v){const S=await fetch(`${T}/menu/${v}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.trim(),price:j})});if(S.ok)w(),await p();else{const t=await S.json();alert(t?.message||"C·∫≠p nh·∫≠t th·∫•t b·∫°i")}}else{const S=await fetch(`${T}/menu`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.trim(),price:j})});if(S.ok)w(),await p();else{const t=await S.json();alert(t?.message||"Th√™m m√≥n th·∫•t b·∫°i")}}}catch(S){console.error(S),alert("L·ªói l∆∞u m√≥n")}finally{s(!1)}};return e.jsx("div",{className:"min-h-screen pb-24 p-4 bg-gradient-to-br from-orange-50 to-yellow-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-orange-600 mb-4",children:"Qu·∫£n l√Ω Menu"}),e.jsx("div",{className:"bg-white rounded-2xl shadow p-4 mb-4",children:e.jsxs("form",{onSubmit:U,className:"grid grid-cols-1 sm:grid-cols-3 gap-3 items-end",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"T√™n m√≥n"}),e.jsx("input",{value:x,onChange:d=>g(d.target.value),className:"w-full mt-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-300",placeholder:"V√≠ d·ª•: Tr√† s·ªØa matcha"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Gi√° (VNƒê)"}),e.jsx("input",{value:f,onChange:d=>N(d.target.value),className:"w-full mt-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-300",placeholder:"35000",inputMode:"numeric"})]}),e.jsxs("div",{className:"col-span-1 sm:col-span-3 flex gap-2 mt-2",children:[e.jsx("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-yellow-400 text-gray-900 rounded-md font-semibold hover:opacity-95",disabled:u,children:v?u?"ƒêang c·∫≠p nh·∫≠t...":"C·∫≠p nh·∫≠t m√≥n":u?"ƒêang th√™m...":"Th√™m m√≥n"}),e.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 border rounded-md text-gray-700",disabled:u,children:"H·ªßy"})]}),C&&e.jsx("div",{className:"col-span-3 text-red-500 text-sm",children:C})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Danh s√°ch m√≥n"}),i?e.jsx("div",{className:"text-gray-600",children:"ƒêang t·∫£i..."}):r.length===0?e.jsx("div",{className:"text-gray-600",children:"Ch∆∞a c√≥ m√≥n n√†o."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:r.map(d=>e.jsxs("div",{className:"p-3 border rounded-lg flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-medium text-gray-800",children:d.name}),e.jsxs("div",{className:"text-orange-600 font-semibold",children:[Number(d.price).toLocaleString()," VNƒê"]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("button",{onClick:()=>P(d),className:"text-sm px-3 py-1 border rounded text-blue-600 hover:bg-blue-50",children:"S·ª≠a"}),e.jsx("button",{onClick:()=>E(d._id),className:"text-sm px-3 py-1 border rounded text-red-600 hover:bg-red-50",children:"X√≥a"})]})]},d._id))})]})]})})}function R({children:h,adminOnly:o=!1}){const m=JSON.parse(localStorage.getItem("currentUser"));return m?o&&m.role!=="admin"?e.jsx(M,{to:"/",replace:!0}):h:e.jsx(M,{to:"/login",replace:!0})}const $="https://nsdrink-backend.onrender.com/api";function ve(){const h=B(),[o,m]=l.useState([]),[r,n]=l.useState(""),[i,c]=l.useState(1),[u,s]=l.useState([]),[x,g]=l.useState(null),[f,N]=l.useState(!1),[v,O]=l.useState(!1),[C,b]=l.useState(!1);l.useEffect(()=>{T(),p()},[]);async function T(){try{const a=await(await fetch(`${$}/menu`)).json();m(Array.isArray(a)?a:[])}catch(t){console.error("fetch menu",t)}}async function p(){try{const a=await(await fetch(`${$}/orders/last`)).json(),k=new Date().getMonth()+1;let q=1;a&&a.orderNumber&&a.month===k&&(q=a.orderNumber+1),g(q)}catch(t){console.error(t),g(1)}}function w(){if(!r)return o;const t=r.toLowerCase();return o.filter(a=>a.name.toLowerCase().includes(t))}function P(t){const a=u.find(y=>y.name===t.name&&y.price===t.price);s(a?u.map(y=>y===a?{...y,quantity:y.quantity+1}:y):[...u,{name:t.name,price:Number(t.price),quantity:1}])}function E(t,a){s(y=>{const k=[...y];return k[t].quantity=Math.max(1,k[t].quantity+a),k})}function U(t){s(a=>a.filter((y,k)=>k!==t))}const d=u.reduce((t,a)=>t+a.price*a.quantity,0);async function j(){if(u.length===0)return alert("Vui l√≤ng ch·ªçn m√≥n tr∆∞·ªõc khi g·ª≠i.");O(!0)}async function S(){const t={orderNumber:x,tableNumber:Number(i),items:u};b(!0);try{const a=await fetch(`${$}/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){const k=await a.json();alert(k?.message||"G·ª≠i order th·∫•t b·∫°i"),b(!1);return}const y=await a.json();alert(`ƒê√£ t·∫°o order #${y.orderNumber}`),s([]),g(k=>(k||1)+1),O(!1),h("/orders")}catch(a){console.error(a),alert("L·ªói k·∫øt n·ªëi server")}finally{b(!1)}}return e.jsx("div",{className:"min-h-screen pb-24 p-4 bg-gradient-to-br from-orange-50 to-yellow-50",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-orange-600",children:"T·∫°o Order m·ªõi"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Order #",x??"..."]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["B√†n:",e.jsx("select",{value:i,onChange:t=>c(t.target.value),className:"ml-2 p-1 rounded border",children:Array.from({length:20},(t,a)=>a+1).map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx("input",{value:r,onChange:t=>n(t.target.value),placeholder:"T√¨m m√≥n...",className:"w-full p-2 border rounded"})}),e.jsx("div",{className:"h-96 overflow-auto border rounded p-2 bg-white",children:w().length===0?e.jsx("div",{className:"text-gray-500",children:"Kh√¥ng t√¨m th·∫•y m√≥n"}):w().map(t=>e.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>P(t),children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[Number(t.price).toLocaleString()," VNƒê"]})]}),e.jsx("div",{className:"text-orange-600 font-semibold",children:"Th√™m"})]},t._id||t.name))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white rounded-lg p-2 shadow mb-3",children:[e.jsx("h3",{className:"font-semibold",children:"ƒê∆°n h√†ng"}),e.jsx("div",{className:"text-sm text-gray-500",children:"M√≥n ƒë√£ ch·ªçn"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-2 shadow",children:[u.length===0?e.jsx("div",{className:"text-gray-500 p-4",children:"Ch∆∞a c√≥ m√≥n n√†o"}):e.jsx("div",{className:"space-y-2",children:u.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[Number(t.price).toLocaleString()," VNƒê"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>E(a,-1),className:"p-1 rounded border",children:e.jsx(se,{size:14})}),e.jsx("div",{className:"w-6 text-center",children:t.quantity}),e.jsx("button",{onClick:()=>E(a,1),className:"p-1 rounded border",children:e.jsx(re,{size:14})}),e.jsxs("div",{className:"w-20 text-right font-semibold",children:[(t.price*t.quantity).toLocaleString(),"ƒë"]}),e.jsx("button",{onClick:()=>U(a),className:"ml-2 text-red-500 p-1",title:"X√≥a",children:e.jsx(ne,{size:16})})]})]},a))}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-lg font-semibold",children:["T·ªïng: ",d.toLocaleString()," VNƒê"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:j,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-yellow-400 text-gray-900 rounded-md font-semibold",disabled:u.length===0,children:"Review"}),e.jsx("button",{onClick:()=>{s([])},className:"px-4 py-2 border rounded-md",children:"X√≥a h·∫øt"})]})]})]})]})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-xl p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"X√°c nh·∫≠n ƒë∆°n h√†ng"}),e.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:["Order #",x," ‚Äî B√†n ",i]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-auto",children:u.map((t,a)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.quantity," x ",Number(t.price).toLocaleString(),"ƒë"]})]}),e.jsxs("div",{className:"font-semibold",children:[(t.price*t.quantity).toLocaleString(),"ƒë"]})]},a))}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-lg font-bold",children:["T·ªïng: ",d.toLocaleString()," VNƒê"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 border rounded-md",children:"ƒêi·ªÅu ch·ªânh"}),e.jsx("button",{onClick:S,disabled:C,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-yellow-400 text-gray-900 rounded-md",children:C?"ƒêang g·ª≠i...":"X√°c nh·∫≠n"})]})]})]})})]})})}function we(){const h=JSON.parse(localStorage.getItem("currentUser"));return e.jsxs("div",{className:"pb-20",children:[e.jsxs(H,{children:[e.jsx(L,{path:"/",element:e.jsx(R,{children:e.jsx(je,{})})}),e.jsx(L,{path:"/login",element:e.jsx(be,{})}),e.jsx(L,{path:"/users",element:e.jsx(R,{adminOnly:!0,children:e.jsx(ye,{})})}),e.jsx(L,{path:"/menu",element:e.jsx(R,{adminOnly:!0,children:e.jsx(Ne,{})})}),e.jsx(L,{path:"/new-order",element:e.jsx(R,{children:e.jsx(ve,{})})}),e.jsx(L,{path:"*",element:e.jsx(M,{to:h?"/":"/login"})})]}),h&&e.jsx(z,{})]})}A.createRoot(document.getElementById("root")).render(e.jsx(K.StrictMode,{children:e.jsx(Q,{children:e.jsx(we,{})})}));

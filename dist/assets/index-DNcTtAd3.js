import{r as l,b as F,a as K}from"./vendor-BKU87Gzz.js";import{u as G,L as A,a as B,N as M,R as H,b as L,B as Q}from"./router-RsDnTp2Y.js";import{H as Y,F as W,P as Z,B as ee,U as te,M as se,a as re,T as ne}from"./ui-BXlzKJJ_.js";import{R as ae,B as oe,C as le,X as ie,Y as ce,T as de,a as me}from"./charts-B_jiA6RQ.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function h(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=h(n);fetch(n.href,i)}})();var V={exports:{}},_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var he=l,ue=Symbol.for("react.element"),xe=Symbol.for("react.fragment"),ge=Object.prototype.hasOwnProperty,pe=he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fe={key:!0,ref:!0,__self:!0,__source:!0};function X(m,a,h){var r,n={},i=null,c=null;h!==void 0&&(i=""+h),a.key!==void 0&&(i=""+a.key),a.ref!==void 0&&(c=a.ref);for(r in a)ge.call(a,r)&&!fe.hasOwnProperty(r)&&(n[r]=a[r]);if(m&&m.defaultProps)for(r in a=m.defaultProps,a)n[r]===void 0&&(n[r]=a[r]);return{$$typeof:ue,type:m,key:i,ref:c,props:n,_owner:pe.current}}_.Fragment=xe;_.jsx=X;_.jsxs=X;V.exports=_;var e=V.exports,U={},J=F;U.createRoot=J.createRoot,U.hydrateRoot=J.hydrateRoot;function z(){const m=G(),a=JSON.parse(localStorage.getItem("currentUser")),h=[{path:"/",label:"Trang ch·ªß",icon:e.jsx(Y,{size:22})},{path:"/orders",label:"ƒê∆°n h√†ng",icon:e.jsx(W,{size:22})},{path:"/new-order",label:"Order",icon:e.jsx(Z,{size:32}),isCenter:!0},{path:"/report",label:"B√°o c√°o",icon:e.jsx(ee,{size:22})}];return(a==null?void 0:a.role)==="admin"&&h.push({path:"/users",label:"User",icon:e.jsx(te,{size:22})}),e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-orange-200 flex justify-around items-center py-2 shadow-lg z-50",children:h.map((r,n)=>{const c=m.pathname===r.path?"text-orange-500":"text-gray-500";return r.isCenter?e.jsxs(A,{to:r.path,className:"flex flex-col items-center justify-center -mt-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-orange-400 to-yellow-300 rounded-full p-4 shadow-lg border-2 border-white",children:r.icon}),e.jsx("span",{className:"text-xs text-orange-600 font-semibold mt-1",children:r.label})]},n):e.jsxs(A,{to:r.path,className:`flex flex-col items-center text-sm ${c}`,children:[r.icon,e.jsx("span",{className:"text-xs mt-1",children:r.label})]},n)})})}function je(){const[m,a]=l.useState(null),[h,r]=l.useState({total:0,cash:0,card:0}),[n,i]=l.useState([]);return l.useEffect(()=>{const c=JSON.parse(localStorage.getItem("currentUser"));a(c||{name:"Guest"});const u=JSON.parse(localStorage.getItem("orders"))||[],s=new Date().toISOString().split("T")[0];let x=0,g=0,f=0;const S=[];for(let j=6;j>=0;j--){const O=new Date;O.setDate(O.getDate()-j);const C=O.toISOString().split("T")[0],y=u.filter(p=>p.date===C),T=y.reduce((p,k)=>p+k.total,0);S.push({day:C.slice(5),total:T}),C===s&&(x=T,g=y.filter(p=>p.payment==="cash").reduce((p,k)=>p+k.total,0),f=y.filter(p=>p.payment==="card").reduce((p,k)=>p+k.total,0))}r({total:x,cash:g,card:f}),i(S)},[]),e.jsxs("div",{className:"min-h-screen pb-20 bg-gradient-to-br from-orange-50 to-yellow-50",children:[e.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-orange-600",children:"NS Drink POS"}),e.jsxs("span",{className:"mt-2 sm:mt-0 text-gray-700 text-sm",children:["Xin ch√†o, ",(m==null?void 0:m.name)||"Guest"]})]}),e.jsx("section",{className:"p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-yellow-100 rounded-xl shadow-md p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Doanh thu h√¥m nay"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[h.total.toLocaleString()," VNƒê"]}),e.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-700",children:[e.jsxs("span",{children:["Ti·ªÅn m·∫∑t: ",h.cash.toLocaleString()," VNƒê"]}),e.jsxs("span",{children:["Chuy·ªÉn kho·∫£n: ",h.card.toLocaleString()," VNƒê"]})]})]})}),e.jsx("section",{className:"p-4 grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{key:"stock",title:"Qu·∫£n l√Ω kho",emoji:"üì¶",link:"/stock"},{key:"menu",title:"Menu",emoji:"üìã",link:"/menu"},{key:"orders",title:"ƒê∆°n h√†ng",emoji:"üßæ",link:"/orders"},{key:"report",title:"B√°o c√°o",emoji:"üìä",link:"/report"}].map(c=>e.jsxs(A,{to:c.link,className:"bg-white rounded-xl shadow-md p-4 flex flex-col items-center justify-center hover:shadow-lg transition",children:[e.jsx("div",{className:"text-4xl mb-2",children:c.emoji}),e.jsx("p",{className:"text-sm font-semibold text-gray-700 text-center",children:c.title})]},c.key))}),e.jsx("section",{className:"p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Doanh thu 7 ng√†y g·∫ßn nh·∫•t"}),e.jsx("div",{style:{width:"100%",height:250},children:e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(oe,{data:n,layout:"vertical",margin:{top:10,bottom:10,left:10,right:10},children:[e.jsx(le,{strokeDasharray:"3 3"}),e.jsx(ie,{type:"number"}),e.jsx(ce,{dataKey:"day",type:"category"}),e.jsx(de,{}),e.jsx(me,{dataKey:"total",fill:"#f97316",radius:[5,5,5,5]})]})})})]})}),e.jsx(z,{})]})}function be(){const m=B(),[a,h]=l.useState(""),[r,n]=l.useState(""),[i,c]=l.useState(!1),[u,s]=l.useState(""),x="https://ns-drink-pos.onrender.com/api",g=async f=>{if(f.preventDefault(),s(""),!a||!r){s("Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i v√† m·∫≠t kh·∫©u.");return}c(!0);try{const S=await fetch(`${x}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:a,password:r})}),j=await S.json();if(!S.ok){s((j==null?void 0:j.message)||"ƒêƒÉng nh·∫≠p th·∫•t b·∫°i"),c(!1);return}localStorage.setItem("currentUser",JSON.stringify(j)),c(!1),m("/")}catch(S){console.error(S),s("L·ªói k·∫øt n·ªëi t·ªõi server."),c(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-gray-800/80 backdrop-blur-md rounded-2xl shadow-lg p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-orange-400 mb-4 text-center",children:"NS Drink POS"}),e.jsx("p",{className:"text-sm text-gray-300 text-center mb-4",children:"ƒêƒÉng nh·∫≠p v√†o h·ªá th·ªëng qu·∫£n l√Ω"}),u&&e.jsx("div",{className:"bg-red-600/30 text-red-200 p-2 rounded mb-3 text-sm",children:u}),e.jsxs("form",{onSubmit:g,className:"space-y-3",children:[e.jsx("input",{type:"text",placeholder:"S·ªë ƒëi·ªán tho·∫°i",value:a,onChange:f=>h(f.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-700 border border-gray-600 placeholder-gray-400 focus:outline-none"}),e.jsx("input",{type:"password",placeholder:"M·∫≠t kh·∫©u",value:r,onChange:f=>n(f.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-700 border border-gray-600 placeholder-gray-400 focus:outline-none"}),e.jsx("button",{type:"submit",className:"w-full py-2 rounded-md font-semibold bg-gradient-to-r from-orange-500 to-yellow-400 text-gray-900 hover:opacity-95",disabled:i,children:i?"ƒêang ƒëƒÉng nh·∫≠p...":"ƒêƒÉng nh·∫≠p"})]}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-400",children:["T√†i kho·∫£n demo Admin: ",e.jsx("span",{className:"font-medium text-orange-300",children:"0932611629 / admin123"})]})]})})}const $="https://ns-drink-pos.onrender.com";function ye(){const[m,a]=l.useState([]),[h,r]=l.useState(""),[n,i]=l.useState("");l.useEffect(()=>{fetch(`${$}/api/users`).then(s=>s.json()).then(s=>a(s)).catch(s=>console.log("Fetch users error:",s))},[]);const c=()=>{if(!n||!h)return alert("Nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");const s={phone:n,name:h,password:"123456",role:"user"};fetch(`${$}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(x=>{if(!x.ok)throw new Error("Th√™m user th·∫•t b·∫°i!");return x.json()}).then(x=>a(g=>[...g,x])).catch(x=>alert(x.message)),i(""),r("")},u=(s,x)=>{if(x==="admin")return alert("Kh√¥ng th·ªÉ x√≥a t√†i kho·∫£n Admin!");fetch(`${$}/api/users/${s}`,{method:"DELETE"}).then(g=>{if(!g.ok)throw new Error("X√≥a th·∫•t b·∫°i!");return g.json()}).then(()=>a(g=>g.filter(f=>f._id!==s))).catch(g=>alert(g.message))};return e.jsxs("div",{className:"p-4 bg-white min-h-screen",children:[e.jsx("h1",{className:"text-xl font-bold mb-4 text-orange-600",children:"Qu·∫£n l√Ω ng∆∞·ªùi d√πng"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",placeholder:"T√™n",value:h,onChange:s=>r(s.target.value),className:"border border-orange-300 rounded-lg px-3 py-2 w-1/2"}),e.jsx("input",{type:"text",placeholder:"S·ªë ƒëi·ªán tho·∫°i",value:n,onChange:s=>i(s.target.value),className:"border border-orange-300 rounded-lg px-3 py-2 w-1/2"}),e.jsx("button",{onClick:c,className:"bg-gradient-to-r from-orange-500 to-yellow-400 text-white px-4 py-2 rounded-lg font-semibold shadow",children:"Th√™m"})]}),e.jsxs("table",{className:"w-full border border-orange-200 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-orange-100 text-orange-700",children:[e.jsx("th",{className:"p-2 text-left",children:"T√™n"}),e.jsx("th",{className:"p-2 text-left",children:"SƒêT"}),e.jsx("th",{className:"p-2 text-left",children:"Vai tr√≤"}),e.jsx("th",{className:"p-2 text-center",children:"H√†nh ƒë·ªông"})]})}),e.jsx("tbody",{children:m.map(s=>e.jsxs("tr",{className:"border-t hover:bg-orange-50",children:[e.jsx("td",{className:"p-2",children:s.name}),e.jsx("td",{className:"p-2",children:s.phone}),e.jsx("td",{className:"p-2",children:s.role}),e.jsx("td",{className:"p-2 text-center",children:s.role!=="admin"&&e.jsx("button",{onClick:()=>u(s._id,s.role),className:"text-red-500 font-semibold",children:"X√≥a"})})]},s._id))})]})]})}function Ne(){const m=B(),[a,h]=l.useState(null),[r,n]=l.useState([]),[i,c]=l.useState(!1),[u,s]=l.useState(!1),[x,g]=l.useState(""),[f,S]=l.useState(""),[j,O]=l.useState(null),[C,y]=l.useState(""),T="https://ns-drink-pos.onrender.com/api";l.useEffect(()=>{const d=JSON.parse(localStorage.getItem("currentUser"));if(h(d),!d||d.role!=="admin"){m("/");return}p()},[m]);async function p(){c(!0);try{const b=await(await fetch(`${T}/menu`)).json();n(Array.isArray(b)?b:[])}catch(d){console.error(d),y("Kh√¥ng th·ªÉ t·∫£i danh s√°ch menu.")}finally{c(!1)}}const k=()=>{g(""),S(""),O(null),y("")},P=d=>{O(d._id),g(d.name),S(String(d.price)),window.scrollTo({top:0,behavior:"smooth"})},E=async d=>{if(confirm("X√°c nh·∫≠n x√≥a m√≥n n√†y?"))try{s(!0);const b=await fetch(`${T}/menu/${d}`,{method:"DELETE"});if(b.ok)await p();else{const N=await b.json();alert((N==null?void 0:N.message)||"X√≥a th·∫•t b·∫°i")}}catch(b){console.error(b),alert("L·ªói x√≥a m√≥n")}finally{s(!1)}},D=async d=>{if(d.preventDefault(),y(""),!x.trim())return y("Nh·∫≠p t√™n m√≥n.");const b=parseFloat(f);if(isNaN(b)||b<=0)return y("Nh·∫≠p gi√° ti·ªÅn h·ª£p l·ªá (>0).");s(!0);try{if(j){const N=await fetch(`${T}/menu/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.trim(),price:b})});if(N.ok)k(),await p();else{const t=await N.json();alert((t==null?void 0:t.message)||"C·∫≠p nh·∫≠t th·∫•t b·∫°i")}}else{const N=await fetch(`${T}/menu`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.trim(),price:b})});if(N.ok)k(),await p();else{const t=await N.json();alert((t==null?void 0:t.message)||"Th√™m m√≥n th·∫•t b·∫°i")}}}catch(N){console.error(N),alert("L·ªói l∆∞u m√≥n")}finally{s(!1)}};return e.jsx("div",{className:"min-h-screen pb-24 p-4 bg-gradient-to-br from-orange-50 to-yellow-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-orange-600 mb-4",children:"Qu·∫£n l√Ω Menu"}),e.jsx("div",{className:"bg-white rounded-2xl shadow p-4 mb-4",children:e.jsxs("form",{onSubmit:D,className:"grid grid-cols-1 sm:grid-cols-3 gap-3 items-end",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"T√™n m√≥n"}),e.jsx("input",{value:x,onChange:d=>g(d.target.value),className:"w-full mt-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-300",placeholder:"V√≠ d·ª•: Tr√† s·ªØa matcha"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Gi√° (VNƒê)"}),e.jsx("input",{value:f,onChange:d=>S(d.target.value),className:"w-full mt-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-300",placeholder:"35000",inputMode:"numeric"})]}),e.jsxs("div",{className:"col-span-1 sm:col-span-3 flex gap-2 mt-2",children:[e.jsx("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-yellow-400 text-gray-900 rounded-md font-semibold hover:opacity-95",disabled:u,children:j?u?"ƒêang c·∫≠p nh·∫≠t...":"C·∫≠p nh·∫≠t m√≥n":u?"ƒêang th√™m...":"Th√™m m√≥n"}),e.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 border rounded-md text-gray-700",disabled:u,children:"H·ªßy"})]}),C&&e.jsx("div",{className:"col-span-3 text-red-500 text-sm",children:C})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Danh s√°ch m√≥n"}),i?e.jsx("div",{className:"text-gray-600",children:"ƒêang t·∫£i..."}):r.length===0?e.jsx("div",{className:"text-gray-600",children:"Ch∆∞a c√≥ m√≥n n√†o."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:r.map(d=>e.jsxs("div",{className:"p-3 border rounded-lg flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-medium text-gray-800",children:d.name}),e.jsxs("div",{className:"text-orange-600 font-semibold",children:[Number(d.price).toLocaleString()," VNƒê"]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("button",{onClick:()=>P(d),className:"text-sm px-3 py-1 border rounded text-blue-600 hover:bg-blue-50",children:"S·ª≠a"}),e.jsx("button",{onClick:()=>E(d._id),className:"text-sm px-3 py-1 border rounded text-red-600 hover:bg-red-50",children:"X√≥a"})]})]},d._id))})]})]})})}function R({children:m,adminOnly:a=!1}){const h=JSON.parse(localStorage.getItem("currentUser"));return h?a&&h.role!=="admin"?e.jsx(M,{to:"/",replace:!0}):m:e.jsx(M,{to:"/login",replace:!0})}const I="https://ns-drink-pos.onrender.com";function ve(){const m=B(),[a,h]=l.useState([]),[r,n]=l.useState(""),[i,c]=l.useState(1),[u,s]=l.useState([]),[x,g]=l.useState(null),[f,S]=l.useState(!1),[j,O]=l.useState(!1),[C,y]=l.useState(!1);l.useEffect(()=>{T(),p()},[]);async function T(){try{const o=await(await fetch(`${I}/menu`)).json();h(Array.isArray(o)?o:[])}catch(t){console.error("fetch menu",t)}}async function p(){try{const o=await(await fetch(`${I}/orders/last`)).json(),w=new Date().getMonth()+1;let q=1;o&&o.orderNumber&&o.month===w&&(q=o.orderNumber+1),g(q)}catch(t){console.error(t),g(1)}}function k(){if(!r)return a;const t=r.toLowerCase();return a.filter(o=>o.name.toLowerCase().includes(t))}function P(t){const o=u.find(v=>v.name===t.name&&v.price===t.price);s(o?u.map(v=>v===o?{...v,quantity:v.quantity+1}:v):[...u,{name:t.name,price:Number(t.price),quantity:1}])}function E(t,o){s(v=>{const w=[...v];return w[t].quantity=Math.max(1,w[t].quantity+o),w})}function D(t){s(o=>o.filter((v,w)=>w!==t))}const d=u.reduce((t,o)=>t+o.price*o.quantity,0);async function b(){if(u.length===0)return alert("Vui l√≤ng ch·ªçn m√≥n tr∆∞·ªõc khi g·ª≠i.");O(!0)}async function N(){const t={orderNumber:x,tableNumber:Number(i),items:u};y(!0);try{const o=await fetch(`${I}/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok){const w=await o.json();alert((w==null?void 0:w.message)||"G·ª≠i order th·∫•t b·∫°i"),y(!1);return}const v=await o.json();alert(`ƒê√£ t·∫°o order #${v.orderNumber}`),s([]),g(w=>(w||1)+1),O(!1),m("/orders")}catch(o){console.error(o),alert("L·ªói k·∫øt n·ªëi server")}finally{y(!1)}}return e.jsx("div",{className:"min-h-screen pb-24 p-4 bg-gradient-to-br from-orange-50 to-yellow-50",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-orange-600",children:"T·∫°o Order m·ªõi"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Order #",x??"..."]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["B√†n:",e.jsx("select",{value:i,onChange:t=>c(t.target.value),className:"ml-2 p-1 rounded border",children:Array.from({length:20},(t,o)=>o+1).map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx("input",{value:r,onChange:t=>n(t.target.value),placeholder:"T√¨m m√≥n...",className:"w-full p-2 border rounded"})}),e.jsx("div",{className:"h-96 overflow-auto border rounded p-2 bg-white",children:k().length===0?e.jsx("div",{className:"text-gray-500",children:"Kh√¥ng t√¨m th·∫•y m√≥n"}):k().map(t=>e.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>P(t),children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[Number(t.price).toLocaleString()," VNƒê"]})]}),e.jsx("div",{className:"text-orange-600 font-semibold",children:"Th√™m"})]},t._id||t.name))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white rounded-lg p-2 shadow mb-3",children:[e.jsx("h3",{className:"font-semibold",children:"ƒê∆°n h√†ng"}),e.jsx("div",{className:"text-sm text-gray-500",children:"M√≥n ƒë√£ ch·ªçn"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-2 shadow",children:[u.length===0?e.jsx("div",{className:"text-gray-500 p-4",children:"Ch∆∞a c√≥ m√≥n n√†o"}):e.jsx("div",{className:"space-y-2",children:u.map((t,o)=>e.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[Number(t.price).toLocaleString()," VNƒê"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>E(o,-1),className:"p-1 rounded border",children:e.jsx(se,{size:14})}),e.jsx("div",{className:"w-6 text-center",children:t.quantity}),e.jsx("button",{onClick:()=>E(o,1),className:"p-1 rounded border",children:e.jsx(re,{size:14})}),e.jsxs("div",{className:"w-20 text-right font-semibold",children:[(t.price*t.quantity).toLocaleString(),"ƒë"]}),e.jsx("button",{onClick:()=>D(o),className:"ml-2 text-red-500 p-1",title:"X√≥a",children:e.jsx(ne,{size:16})})]})]},o))}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-lg font-semibold",children:["T·ªïng: ",d.toLocaleString()," VNƒê"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:b,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-yellow-400 text-gray-900 rounded-md font-semibold",disabled:u.length===0,children:"Review"}),e.jsx("button",{onClick:()=>{s([])},className:"px-4 py-2 border rounded-md",children:"X√≥a h·∫øt"})]})]})]})]})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-xl p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"X√°c nh·∫≠n ƒë∆°n h√†ng"}),e.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:["Order #",x," ‚Äî B√†n ",i]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-auto",children:u.map((t,o)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.quantity," x ",Number(t.price).toLocaleString(),"ƒë"]})]}),e.jsxs("div",{className:"font-semibold",children:[(t.price*t.quantity).toLocaleString(),"ƒë"]})]},o))}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-lg font-bold",children:["T·ªïng: ",d.toLocaleString()," VNƒê"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 border rounded-md",children:"ƒêi·ªÅu ch·ªânh"}),e.jsx("button",{onClick:N,disabled:C,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-yellow-400 text-gray-900 rounded-md",children:C?"ƒêang g·ª≠i...":"X√°c nh·∫≠n"})]})]})]})})]})})}function we(){const m=JSON.parse(localStorage.getItem("currentUser"));return e.jsxs("div",{className:"pb-20",children:[e.jsxs(H,{children:[e.jsx(L,{path:"/",element:e.jsx(R,{children:e.jsx(je,{})})}),e.jsx(L,{path:"/login",element:e.jsx(be,{})}),e.jsx(L,{path:"/users",element:e.jsx(R,{adminOnly:!0,children:e.jsx(ye,{})})}),e.jsx(L,{path:"/menu",element:e.jsx(R,{adminOnly:!0,children:e.jsx(Ne,{})})}),e.jsx(L,{path:"/new-order",element:e.jsx(R,{children:e.jsx(ve,{})})}),e.jsx(L,{path:"*",element:e.jsx(M,{to:m?"/":"/login"})})]}),m&&e.jsx(z,{})]})}U.createRoot(document.getElementById("root")).render(e.jsx(K.StrictMode,{children:e.jsx(Q,{children:e.jsx(we,{})})}));
